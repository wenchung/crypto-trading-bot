# Crypto Trading Bot

> ⚠️ **教育用途警告**: 此系統僅供學習量化交易使用，不保證獲利。加密貨幣交易風險極高，可能導致全部本金損失。

## 專案特色

✅ **完整風險管理系統**
- 倉位控制 (單筆最大風險限制)
- 動態止損機制
- 連續虧損熔斷
- 每日最大虧損限制

✅ **多種經典策略**
- 均線交叉策略 (Moving Average Crossover)
- RSI 超買超賣策略 (Mean Reversion)
- 網格交易策略 (Grid Trading)

✅ **完整回測系統**
- 歷史數據回測
- 績效指標分析 (勝率、盈虧比、最大回撤)
- 避免過度擬合的驗證機制

✅ **即時監控與警報**
- 交易執行監控
- 異常狀況警報 (Email 通知)
- 詳細交易日誌

## 安全使用指南

### ⚠️ 使用前必讀

1. **紙上交易至少 30 天** - 使用模擬模式測試策略
2. **小資金測試** - 實盤僅用 $50-100 測試
3. **持續監控** - 每天檢查系統運行狀況
4. **不要期待快速致富** - 專業交易員勝率 50-60% 已很好
5. **接受虧損** - 虧損是交易的一部分

### 系統架構

```
crypto-trading-bot/
├── core/                    # 核心模組
│   ├── risk_manager.py     # 風險管理
│   ├── order_executor.py   # 訂單執行
│   └── data_provider.py    # 數據提供
├── strategies/              # 交易策略
│   ├── ma_crossover.py     # 均線交叉
│   ├── rsi_strategy.py     # RSI 策略
│   └── grid_trading.py     # 網格交易
├── backtest/                # 回測系統
│   ├── engine.py           # 回測引擎
│   └── metrics.py          # 績效指標
├── monitor/                 # 監控系統
│   ├── logger.py           # 日誌記錄
│   └── alerter.py          # 警報系統
├── config/                  # 配置文件
│   └── settings.py         # 系統設定
└── main.py                  # 主程式

```

## 快速開始

### 1. 安裝依賴

```bash
pip install -r requirements.txt
```

### 2. 配置設定

複製配置範例並修改：

```bash
cp config/settings.example.py config/settings.py
```

編輯 `config/settings.py`：
- 設定 API Key (建議使用唯讀或限制權限的 Key)
- 選擇交易策略
- 設定風險參數

### 3. 紙上交易模式 (推薦)

```bash
python main.py --mode paper
```

### 4. 回測模式

```bash
python main.py --mode backtest --start 2024-01-01 --end 2024-12-31
```

### 5. 實盤交易 (謹慎使用)

```bash
python main.py --mode live
```

## 風險參數說明

### 關鍵風控設定 (config/settings.py)

```python
RISK_MANAGEMENT = {
    'max_position_size': 0.1,        # 單筆最大 10% 資金
    'max_daily_loss': 0.05,          # 單日最大虧損 5%
    'stop_loss_pct': 0.02,           # 單筆止損 2%
    'max_consecutive_losses': 3,     # 連續虧損 3 次熔斷
    'max_total_exposure': 0.5,       # 總倉位不超過 50%
}
```

**建議保守設定**：
- 新手：單筆 5%、日虧 3%、止損 1%
- 測試期：使用最小交易金額

## 策略說明

### 1. 均線交叉策略 (MA Crossover)

**邏輯**：
- 短期均線 (如 MA20) 上穿長期均線 (如 MA50) → 買入
- 短期均線下穿長期均線 → 賣出

**適用市況**：趨勢明確的市場  
**勝率**：約 40-50%  
**風險**：震盪市會產生假信號

### 2. RSI 超買超賣策略

**邏輯**：
- RSI < 30 (超賣) → 買入
- RSI > 70 (超買) → 賣出

**適用市況**：震盪盤整市場  
**勝率**：約 45-55%  
**風險**：強勢趨勢中會持續超買/超賣

### 3. 網格交易策略

**邏輯**：
- 在價格區間內設置多層買賣單
- 低買高賣，賺取震盪利潤

**適用市況**：橫盤震盪  
**勝率**：單筆 60-70%  
**風險**：⚠️ 單邊突破會導致重大虧損

## 回測與績效評估

### 重要指標

- **勝率 (Win Rate)**: 獲利交易次數 / 總交易次數
- **盈虧比 (Profit Factor)**: 總獲利 / 總虧損
- **最大回撤 (Max Drawdown)**: 最大資金回撤百分比
- **夏普比率 (Sharpe Ratio)**: 風險調整後收益

### 評估標準

✅ **可接受的策略**：
- 勝率 > 45%
- 盈虧比 > 1.5
- 最大回撤 < 20%
- 回測至少 1 年歷史數據

❌ **危險信號**：
- 勝率 > 80% (可能過度擬合)
- 最大回撤 > 30%
- 回測期間太短 (< 6 個月)

## 監控與警報

系統會在以下情況發送警報：

🚨 **緊急警報**
- 觸發每日最大虧損限制
- 連續虧損達到熔斷條件
- API 連接失敗

⚠️ **警告提醒**
- 單筆交易虧損超過預期
- 策略勝率明顯下降
- 市場波動率異常升高

## 常見問題

### Q: 為什麼我的策略回測很好但實盤虧損？

**A**: 常見原因：
1. **過度擬合** - 策略過度優化歷史數據
2. **交易成本** - 未計入手續費、滑點
3. **市場變化** - 市場結構改變，策略失效
4. **未來函數** - 回測使用了未來數據

### Q: 如何避免被清倉？

**A**: 關鍵風控：
1. **永遠不用槓桿** (或極低槓桿)
2. **嚴格執行止損**
3. **控制倉位** (單筆 < 10%)
4. **設置熔斷機制**
5. **保留現金** (不要滿倉)

### Q: 多久可以獲利？

**A**: 沒有保證。專業量化團隊也需要：
- 6-12 個月策略開發
- 3-6 個月實盤驗證
- 持續優化和調整

**重要**: 如果有人承諾「高勝率」或「穩定獲利」，那是詐騙。

## 免責聲明

本系統僅供教育學習使用，不構成投資建議。

⚠️ **風險警告**：
- 加密貨幣交易風險極高
- 可能導致全部本金損失
- 過去績效不代表未來表現
- 作者不對任何交易損失負責

📧 **問題反饋**: 請在 GitHub Issues 提出

## 授權

MIT License - 自由使用但風險自負

---

**記住**: 最好的交易策略是「活下來」。風險管理永遠比獲利策略更重要。